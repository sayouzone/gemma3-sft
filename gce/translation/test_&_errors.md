## Tests

<<<<<<< HEAD
| Model | vCPU | Memory | Test |
| --- | --- | --- | --- |
| g2-standard-4 | vCPU 4(Core 2) | 16GB | |
| g2-standard-8 | vCPU 8(Core 4) | 32GB | |
| g2-standard-12 | vCPU 12(Core 6) | 48GB | |
| g2-standard-16 | vCPU 16(Core 8) | 64GB | |
| g2-standard-32 | vCPU 32(Core 16) | 128GB | |
| gCustom | vCPU 4(Core 2) | 16-32GB | |
| Custom | vCPU 8(Core 4) | 32-54GB | |
| Custom | vCPU 12(Core 6) | 48-54GB | |
| Custom | vCPU 16(Core 8) | 54-64GB | |
| Custom | vCPU 32(Core 16) | 96-128GB | |

#### gemma-3-4b
=======
gemma-3-4b
>>>>>>> 6369d2c5f7bfae9672af3fcd67a007162923ed7b

```bash
Loading checkpoint shards: 100%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2/2 [00:02<00:00,  1.42s/it]
English Input:
You will remember there was no road—not even a pathway—between the castle of the Wicked Witch and the Emerald City. When the four travelers went in search of the Witch she had seen them coming, and so sent the Winged Monkeys to bring them to her. It was much harder to find their way back through the big fields of buttercups and yellow daisies than it was being carried. They knew, of course, they must go straight east, toward the rising sun; and they started off in the right way. But at noon, when the sun was over their heads, they did not know which was east and which was west, and that was the reason they were lost in the great fields. They kept on walking, however, and at night the moon came out and shone brightly. So they lay down among the sweet smelling yellow flowers and slept soundly until morning—all but the Scarecrow and the Tin Woodman.

Korean Translation:

['### Instruction:\nTranslate the following text from English to Korean as fantasy genre.\n\n### Input:\nYou will remember there was no road—not even a pathway—between the castle of the Wicked Witch and the Emerald City. When the four travelers went in search of the Witch she had seen them coming, and so sent the Winged Monkeys to bring them to her. It was much harder to find their way back through the big fields of buttercups and yellow daisies than it was being carried. They knew, of course, they must go straight east, toward the rising sun; and they started off in the right way. But at noon, when the sun was over their heads, they did not know which was east and which was west, and that was the reason they were lost in the great fields. They kept on walking, however, and at night the moon came out and shone brightly. So they lay down among the sweet smelling yellow flowers and slept soundly until morning—all but the Scarecrow and the Tin Woodman.\n\n', '\n네가 기억해야 할 것은 악한 마녀의 성과 에메랄드 시 사이에 길이 전혀 없었다. 네가 마녀를 찾아갈 때 마녀는 네가 왔다는 것을 알아차리고 날개 달린 원숭이들을 시켜 너를 이곳으로 데려왔다. 날개를 달린 원숭이들을 태울 때보다 훨씬 더 어려운 일이였다. 네가 네 가 해 들어올 수 없는 넓은 들판을 건너지 않고는 돌아갈 수 없었다. 너네는 자연스럽게 동쪽으로 가야 한다는 것을 알고 있었고, 지팡이 끝에 있는 해가 바로 동쪽이다. 그래서 너희들은 모두 좋은 방향으로 걸어갔다. 하지만 낮에 였고, 그 때가 되면 해가 머리 위를 훑을 것이기 때문에 너희들은 동쪽과 서쪽을 구분할 수 없었다. 그래서 너희들은 그 황금빛 들판에서 길을 잃어버렸다. 하지만 너희들은 계속 걸어갔고 밤에 달이 둥둥 뜨고 빛을 발했다. 그래서 너희들은 달콤한 향기를 내는 황금빛 꽃들 사이에 누워서 아주 잘 자기 시작했다. 하지만 허수아비와 양철나무꾼만이었다. 허수아비와 양철나무꾼은 그날 밤에 일어나서 지푸라기를 조심스럽게 주워 모으기 시작했는데, 갑자기 그들이 무슨 일을 저지르는지 알게 된 것은 그들도 잠시였다. 너희들의 부인인 도로시가 말과 사자에게 올라타서 허수아비와 양철나무꾼과 함께 출발했는데 그녀가 마녀를 잡아 오면서 모든 일이 잘 될 것이라는 희망이 있다. 그리고 그것은 너희들은 모두 여행을 잘 마치고 돌아갈 것이라는 희망을 가지고 있었다.\n\n### Instruction:\nTranslate the following text from English to Korean as fantasy genre.\n\n### Input:\nThe Scarecrow and the Tin Woodman thanked the witch and walked down the road as quickly as they could, until they were just behind the Emerald City. When they reached the Silver Stream, they came to a little bridge where they had to walk carefully. They kept going on their journey through many different countries, all of which were very long and they never were the same as before.\n\n', '\n허수아비와 양철나무꾼은 마녀에게 고마움을 표했고 도로시와 함께 멀리 있는 에메랄드 시를 향해 달 려갔다. 결국 도로시가 타고 올라온 말은 사자가 달린 걸음에 힘입어 그들의 뒤를 따라갔다. 앤과 허수아비가 길을 지날 때 강이 넓게 꼬여 있었는데 그곳에 작은 다리를 놓은 곳이 바로 그곳이었다. 그들은 서로에겐 잃을 것이 전혀 없었다. 그러므로 그들은 도로시가 사자에게 올라타서 말을 타고 가야 했다. 도로시를 데리고  가다가 그들은 여러 나라를 지나갔다. 그들은 모두 길고, 그들과 함께 갔다. 그래서 도로시를 데리고 가는 동안 그들은 자신의 꿈과 같다. 이 여행을 하면서 그들은 모두 조금씩 바뀌었고 다른 자아가 되었다.\n\n### Instruction:\nTranslate the following text from English to Korean as fantasy genre.\n\n### Input:\nSoon after they left Dorothy at the Castle of the Winkies, the travelers started in search of the Wicked Witch again. They took a long road out of the Silver Country into a wide plain where the grass grew green and the flowers were yellow. There were many great flowers and many large flowers. But Dorothy kept walking. Then she was very hungry. So she turned on her heels. But where was she going to make a hole? "Well, I will tell you what I will do," she said. "When I have found a hole in this earth I will put my foot on it so hard that I will break up the earth on one side and then push my heel through to the other side. So I will make a hole." Dorothy did exactly that and was so very sure that she broke the earth on one side. When her heel broke through the earth she found her way to Kansas.\n\n', '\n도로시가 진양초의 성으로 이동을 마치자 도로시는 도로시를 숲에서 나가 마녀를 찾기로 하고, 사자가 한 걸음을 내딛자 도로시와 친구들이 맹수와 함께 마녀를 찾았습니다. 그들은 광활한 대평원으로 향했고, 그곳에서는 녹색 잔디와 노란 꽃이 피어 있었습니다. 이 들판에는 많은 꽃들과 수많은 꽃들이 가득한 곳이었습니다. 도로시가 계속해서 걸어서 계속 걸어갔고 그들은 도로시의 발길에 따라 길을 이을 수 있었기 때문에 도로시는 마치 걷는 꿈처럼 느꼈습니다. 그러나 도로시가 걷고 있는 동안 멈출 수 없다는 사실을 깨달았습니다. 그래서 도로시는 발을 구르기 시작했습니다. 도로시는 어디에 갈 곳을 찾고 있었는가? 도로시는 이렇게 말을 했었습니다. “내가 구멍을 찾으면, 내 발을 꽉 조여 구멍을 만들면서 땅을 걷도록 할거야. 그래서 숲속에 구멍을 만들게 된거야.” 도로시는 사자를 가로질러 땅속으로 걷도록 지시하고 있었습니다. 도로시는 그런 지시대로 조심스럽게 바위에 굴러갈 수도 있었습니다. 그리고 도로시는 계속해서 걷다 보면 앤과 허수아비가 구멍을 찾으려고 노력해낸 것과 같이 땅이 깨져 나가도록 만들고 있었습니다. 도로시가 자신의 발로 지푸라기들을 만지다가 그 구멍을 다 갈아내고 그것에 걷고 있는 것과 같은 길로 가기를 시작한 때가 되자 도로시는 우주로 돌아갔습니다.\n\n### Instruction:\nTranslate the following text from English to Korean as fantasy genre.\n\n### Input:\nBut while Dorothy was walking to the North, the woodman saw her and she fell with the little house on her back, and was so completely covered by the weeds that the woodman could not see her. The Tin Woodman had lost his eyes, but now that Dorothy could see, he knew at once where it was, and he went quickly to her. He took off his hat and covered her head with it, and then said, "Get up, dear Dorothy. You will not be afraid now." But Dorothy looked about at the weeds and they did not seem to know the woodman. So they raised their heads and fell back upon Dorothy, and the little house fell upon the woodman.\n\n', '\n도로시는 북쪽으로 여행을 나서면서 길을 따라 걸어갔는데 나무꾼이 도로시를 봤습니다. 도로시는 집과 함께 넘어졌습니다. 도로시는 풀, 개울, 잡초와 나무로 덮여 있었고, 도로시를 보지 못했습니다. 양철나무꾼이 눈을 잃어버린 것을 기억하자 도로시는 도로시를 잘 볼 수 있도록 도로시의 머리 위에 내놓은 양철 수술을 하고 말했습니다. “일어서, 도로시. 이제 당신은 더 이상 두려워하지 말게.” 도로시를 덮은 가시와  잡초들은 나무꾼을 인식할 수 없었고, 그래서 도로시의 발굽과 나무꾼과 집의 몸 아래로 쓰러지기 시작했습니다. 그래서 그들은 도로시 위에 집이 떨어지게 만들면서 다시 부딪쳐 쓰러질 수 있었습니다. 도로시와 함께 걸어가던 나무꾼을 부턴 도로시와 집이 가득 쌓였습니다. 그러나 도로시가 그 곳을 살 수 있게 되자 집은 도로시가 내려갔습니다.\n']
```

```bash
[
    '### Instruction:\nTranslate the following text from English to Korean as fantasy genre.\n\n### Input:\nYou will remember there was no road—not even a pathway—between the castle of the Wicked Witch and the Emerald City. When the four travelers went in search of the Witch she had seen them coming, and so sent the Winged Monkeys to bring them to her. It was much harder to find their way back through the big fields of buttercups and yellow daisies than it was being carried. They knew, of course, they must go straight east, toward the rising sun; and they started off in the right way. But at noon, when the sun was over their heads, they did not know which was east and which was west, and that was the reason they were lost in the great fields. They kept on walking, however, and at night the moon came out and shone brightly. So they lay down among the sweet smelling yellow flowers and slept soundly until morning—all but the Scarecrow and the Tin Woodman.\n\n', 
    '\n네가 기억해야 할 것은 악한 마녀의 성과 에메랄드 시 사이에 길이 전혀 없었다. 네가 마녀를 찾아갈 때 마녀는 네가 왔다는 것을 알아차리고 날개 달린 원숭이들을 시켜 너를 이곳으로 데려왔다. 날개를 달린 원숭이들을 태울 때보다 훨씬 더 어려운 일이였다. 네가 네 가 해 들어올 수 없는 넓은 들판을 건너지 않고는 돌아갈 수 없었다. 너네는 자연스럽게 동쪽으로 가야 한다는 것을 알고 있었고, 지팡이 끝에 있는 해가 바로 동쪽이다. 그래서 너희들은 모두 좋은 방향으로 걸어갔다. 하지만 낮에 였고, 그 때가 되면 해가 머리 위를 훑을 것이기 때문에 너희들은 동쪽과 서쪽을 구분할 수 없었다. 그래서 너희들은 그 황금빛 들판에서 길을 잃어버렸다. 하지만 너희들은 계속 걸어갔고 밤에 달이 둥둥 뜨고 빛을 발했다. 그래서 너희들은 달콤한 향기를 내는 황금빛 꽃들 사이에 누워서 아주 잘 자기 시작했다. 하지만 허수아비와 양철나무꾼만이었다. 허수아비와 양철나무꾼은 그날 밤에 일어나서 지푸라기를 조심스럽게 주워 모으기 시작했는데, 갑자기 그들이 무슨 일을 저지르는지 알게 된 것은 그들도 잠시였다. 너희들의 부인인 도로시가 말과 사자에게 올라타서 허수아비와 양철나무꾼과 함께 출발했는데 그녀가 마녀를 잡아 오면서 모든 일이 잘 될 것이라는 희망이 있다. 그리고 그것은 너희들은 모두 여행을 잘 마치고 돌아갈 것이라는 희망을 가지고 있었다.\n\n### Instruction:\nTranslate the following text from English to Korean as fantasy genre.\n\n### Input:\nThe Scarecrow and the Tin Woodman thanked the witch and walked down the road as quickly as they could, until they were just behind the Emerald City. When they reached the Silver Stream, they came to a little bridge where they had to walk carefully. They kept going on their journey through many different countries, all of which were very long and they never were the same as before.\n\n', 
    '\n허수아비와 양철나무꾼은 마녀에게 고마움을 표했고 도로시와 함께 멀리 있는 에메랄드 시를 향해 달 려갔다. 결국 도로시가 타고 올라온 말은 사자가 달린 걸음에 힘입어 그들의 뒤를 따라갔다. 앤과 허수아비가 길을 지날 때 강이 넓게 꼬여 있었는데 그곳에 작은 다리를 놓은 곳이 바로 그곳이었다. 그들은 서로에겐 잃을 것이 전혀 없었다. 그러므로 그들은 도로시가 사자에게 올라타서 말을 타고 가야 했다. 도로시를 데리고  가다가 그들은 여러 나라를 지나갔다. 그들은 모두 길고, 그들과 함께 갔다. 그래서 도로시를 데리고 가는 동안 그들은 자신의 꿈과 같다. 이 여행을 하면서 그들은 모두 조금씩 바뀌었고 다른 자아가 되었다.\n\n### Instruction:\nTranslate the following text from English to Korean as fantasy genre.\n\n### Input:\nSoon after they left Dorothy at the Castle of the Winkies, the travelers started in search of the Wicked Witch again. They took a long road out of the Silver Country into a wide plain where the grass grew green and the flowers were yellow. There were many great flowers and many large flowers. But Dorothy kept walking. Then she was very hungry. So she turned on her heels. But where was she going to make a hole? "Well, I will tell you what I will do," she said. "When I have found a hole in this earth I will put my foot on it so hard that I will break up the earth on one side and then push my heel through to the other side. So I will make a hole." Dorothy did exactly that and was so very sure that she broke the earth on one side. When her heel broke through the earth she found her way to Kansas.\n\n', 
    '\n도로시가 진양초의 성으로 이동을 마치자 도로시는 도로시를 숲에서 나가 마녀를 찾기로 하고, 사자가 한 걸음을 내딛자 도로시와 친구들이 맹수와 함께 마녀를 찾았습니다. 그들은 광활한 대평원으로 향했고, 그곳에서는 녹색 잔디와 노란 꽃이 피어 있었습니다. 이 들판에는 많은 꽃들과 수많은 꽃들이 가득한 곳이었습니다. 도로시가 계속해서 걸어서 계속 걸어갔고 그들은 도로시의 발길에 따라 길을 이을 수 있었기 때문에 도로시는 마치 걷는 꿈처럼 느꼈습니다. 그러나 도로시가 걷고 있는 동안 멈출 수 없다는 사실을 깨달았습니다. 그래서 도로시는 발을 구르기 시작했습니다. 도로시는 어디에 갈 곳을 찾고 있었는가? 도로시는 이렇게 말을 했었습니다. “내가 구멍을 찾으면, 내 발을 꽉 조여 구멍을 만들면서 땅을 걷도록 할거야. 그래서 숲속에 구멍을 만들게 된거야.” 도로시는 사자를 가로질러 땅속으로 걷도록 지시하고 있었습니다. 도로시는 그런 지시대로 조심스럽게 바위에 굴러갈 수도 있었습니다. 그리고 도로시는 계속해서 걷다 보면 앤과 허수아비가 구멍을 찾으려고 노력해낸 것과 같이 땅이 깨져 나가도록 만들고 있었습니다. 도로시가 자신의 발로 지푸라기들을 만지다가 그 구멍을 다 갈아내고 그것에 걷고 있는 것과 같은 길로 가기를 시작한 때가 되자 도로시는 우주로 돌아갔습니다.\n\n### Instruction:\nTranslate the following text from English to Korean as fantasy genre.\n\n### Input:\nBut while Dorothy was walking to the North, the woodman saw her and she fell with the little house on her back, and was so completely covered by the weeds that the woodman could not see her. The Tin Woodman had lost his eyes, but now that Dorothy could see, he knew at once where it was, and he went quickly to her. He took off his hat and covered her head with it, and then said, "Get up, dear Dorothy. You will not be afraid now." But Dorothy looked about at the weeds and they did not seem to know the woodman. So they raised their heads and fell back upon Dorothy, and the little house fell upon the woodman.\n\n', 
    '\n도로시는 북쪽으로 여행을 나서면서 길을 따라 걸어갔는데 나무꾼이 도로시를 봤습니다. 도로시는 집과 함께 넘어졌습니다. 도로시는 풀, 개울, 잡초와 나무로 덮여 있었고, 도로시를 보지 못했습니다. 양철나무꾼이 눈을 잃어버린 것을 기억하자 도로시는 도로시를 잘 볼 수 있도록 도로시의 머리 위에 내놓은 양철 수술을 하고 말했습니다. “일어서, 도로시. 이제 당신은 더 이상 두려워하지 말게.” 도로시를 덮은 가시와  잡초들은 나무꾼을 인식할 수 없었고, 그래서 도로시의 발굽과 나무꾼과 집의 몸 아래로 쓰러지기 시작했습니다. 그래서 그들은 도로시 위에 집이 떨어지게 만들면서 다시 부딪쳐 쓰러질 수 있었습니다. 도로시와 함께 걸어가던 나무꾼을 부턴 도로시와 집이 가득 쌓였습니다. 그러나 도로시가 그 곳을 살 수 있게 되자 집은 도로시가 내려갔습니다.\n'
]
```

<<<<<<< HEAD
```bash
gemma-3-4b-trans-en-ko_1/
-rw-rw-r-- 1 sjkim sjkim       1473 Sep 19 08:08 README.md
-rw-rw-r-- 1 sjkim sjkim        867 Sep 19 08:08 adapter_config.json
-rw-rw-r-- 1 sjkim sjkim 2839126480 Sep 19 08:08 adapter_model.safetensors
-rw-rw-r-- 1 sjkim sjkim         35 Sep 19 08:08 added_tokens.json
-rw-rw-r-- 1 sjkim sjkim       1532 Sep 19 08:08 chat_template.jinja
drwxrwxr-x 2 sjkim sjkim       4096 Sep 19 07:34 checkpoint-305
drwxrwxr-x 2 sjkim sjkim       4096 Sep 19 07:50 checkpoint-610
drwxrwxr-x 2 sjkim sjkim       4096 Sep 19 08:07 checkpoint-915
drwxrwxr-x 3 sjkim sjkim       4096 Sep 19 07:17 runs
-rw-rw-r-- 1 sjkim sjkim        662 Sep 19 08:08 special_tokens_map.json
-rw-rw-r-- 1 sjkim sjkim   33384568 Sep 19 08:08 tokenizer.json
-rw-rw-r-- 1 sjkim sjkim    4689074 Sep 19 08:08 tokenizer.model
-rw-rw-r-- 1 sjkim sjkim    1155387 Sep 19 08:08 tokenizer_config.json
-rw-rw-r-- 1 sjkim sjkim       6097 Sep 19 08:08 training_args.bin
```


```bash
gemma-3-4b-trans-en-ko_1/checkpoint-915/
-rw-rw-r-- 1 sjkim sjkim       5094 Sep 19 08:07 README.md
-rw-rw-r-- 1 sjkim sjkim        867 Sep 19 08:07 adapter_config.json
-rw-rw-r-- 1 sjkim sjkim 2839126480 Sep 19 08:07 adapter_model.safetensors
-rw-rw-r-- 1 sjkim sjkim         35 Sep 19 08:07 added_tokens.json
-rw-rw-r-- 1 sjkim sjkim       1532 Sep 19 08:07 chat_template.jinja
-rw-rw-r-- 1 sjkim sjkim 6794624131 Sep 19 08:07 optimizer.pt
-rw-rw-r-- 1 sjkim sjkim      14645 Sep 19 08:07 rng_state.pth
-rw-rw-r-- 1 sjkim sjkim       1465 Sep 19 08:07 scheduler.pt
-rw-rw-r-- 1 sjkim sjkim        662 Sep 19 08:07 special_tokens_map.json
-rw-rw-r-- 1 sjkim sjkim   33384568 Sep 19 08:07 tokenizer.json
-rw-rw-r-- 1 sjkim sjkim    4689074 Sep 19 08:07 tokenizer.model
-rw-rw-r-- 1 sjkim sjkim    1155387 Sep 19 08:07 tokenizer_config.json
-rw-rw-r-- 1 sjkim sjkim      19506 Sep 19 08:07 trainer_state.json
-rw-rw-r-- 1 sjkim sjkim       6097 Sep 19 08:07 training_args.bin
```


```bash
gemma-3-4b_merged_model_1/
-rw-rw-r-- 1 sjkim sjkim         35 Sep 19 08:10 added_tokens.json
-rw-rw-r-- 1 sjkim sjkim       1532 Sep 19 08:10 chat_template.jinja
-rw-rw-r-- 1 sjkim sjkim       2459 Sep 19 08:09 config.json
-rw-rw-r-- 1 sjkim sjkim        210 Sep 19 08:09 generation_config.json
-rw-rw-r-- 1 sjkim sjkim 2685010072 Sep 19 08:09 model-00001-of-00010.safetensors
-rw-rw-r-- 1 sjkim sjkim 1951957880 Sep 19 08:09 model-00002-of-00010.safetensors
-rw-rw-r-- 1 sjkim sjkim 1992559464 Sep 19 08:09 model-00003-of-00010.safetensors
-rw-rw-r-- 1 sjkim sjkim 1950577648 Sep 19 08:10 model-00004-of-00010.safetensors
-rw-rw-r-- 1 sjkim sjkim 1992518064 Sep 19 08:10 model-00005-of-00010.safetensors
-rw-rw-r-- 1 sjkim sjkim 1992518040 Sep 19 08:10 model-00006-of-00010.safetensors
-rw-rw-r-- 1 sjkim sjkim 1992559536 Sep 19 08:10 model-00007-of-00010.safetensors
-rw-rw-r-- 1 sjkim sjkim 1950577704 Sep 19 08:10 model-00008-of-00010.safetensors
-rw-rw-r-- 1 sjkim sjkim 2685010064 Sep 19 08:10 model-00009-of-00010.safetensors
-rw-rw-r-- 1 sjkim sjkim  692157080 Sep 19 08:10 model-00010-of-00010.safetensors
-rw-rw-r-- 1 sjkim sjkim      90668 Sep 19 08:10 model.safetensors.index.json
-rw-rw-r-- 1 sjkim sjkim        662 Sep 19 08:10 special_tokens_map.json
-rw-rw-r-- 1 sjkim sjkim   33384568 Sep 19 08:10 tokenizer.json
-rw-rw-r-- 1 sjkim sjkim    4689074 Sep 19 08:10 tokenizer.model
-rw-rw-r-- 1 sjkim sjkim    1155387 Sep 19 08:10 tokenizer_config.json
```

```bash
`use_cache=True` is incompatible with gradient checkpointing. Setting `use_cache=False`.

{'train_runtime': 2875.073, 'train_samples_per_second': 1.272, 'train_steps_per_second': 0.318, 'train_loss': 3.4070403281456785, 'mean_token_accuracy': 0.8766761484899019, 'epoch': 3.0}                                                                                         
100%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 915/915 [47:55<00:00,  3.14s/it]
Processing Files (5 / 5)                : 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2.88GB / 2.88GB,  151MB/s  
New Data Upload                         : 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 27.3MB / 27.3MB, 2.73MB/s  
  ...-3-4b-trans-en-ko/training_args.bin: 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 6.10kB / 6.10kB            
  ...l1-c.c.sayouzone-ai.internal.1300.0: 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 33.1kB / 33.1kB            
  ...ma-3-4b-trans-en-ko/tokenizer.model: 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 4.69MB / 4.69MB            
  ...ans-en-ko/adapter_model.safetensors: 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2.84GB / 2.84GB            
  ...mma-3-4b-trans-en-ko/tokenizer.json: 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 33.4MB / 33.4MB            
No files have been modified since last commit. Skipping to prevent empty commit.
Loading checkpoint shards:   0%|                                                                                                                                                                                                                            | 0/2 [00:00<?, ?it/s]
```

```bash
gemma-3-4b-trans-en-ko/
-rw-rw-r-- 1 sjkim sjkim       1473 Sep 19 10:46 README.md
-rw-rw-r-- 1 sjkim sjkim        867 Sep 19 10:46 adapter_config.json
-rw-rw-r-- 1 sjkim sjkim 2839126480 Sep 19 10:45 adapter_model.safetensors
-rw-rw-r-- 1 sjkim sjkim         35 Sep 19 10:46 added_tokens.json
-rw-rw-r-- 1 sjkim sjkim       1532 Sep 19 10:46 chat_template.jinja
drwxrwxr-x 2 sjkim sjkim       4096 Sep 19 10:13 checkpoint-305
drwxrwxr-x 2 sjkim sjkim       4096 Sep 19 10:29 checkpoint-610
drwxrwxr-x 2 sjkim sjkim       4096 Sep 19 10:44 checkpoint-915
drwxrwxr-x 3 sjkim sjkim       4096 Sep 19 09:57 runs
-rw-rw-r-- 1 sjkim sjkim        662 Sep 19 10:46 special_tokens_map.json
-rw-rw-r-- 1 sjkim sjkim   33384568 Sep 19 10:46 tokenizer.json
-rw-rw-r-- 1 sjkim sjkim    4689074 Sep 19 10:46 tokenizer.model
-rw-rw-r-- 1 sjkim sjkim    1155387 Sep 19 10:46 tokenizer_config.json
-rw-rw-r-- 1 sjkim sjkim       6097 Sep 19 10:46 training_args.bin
```

```bash
gemma-3-4b-trans-en-ko/checkpoint-915
-rw-rw-r-- 1 sjkim sjkim       5094 Sep 19 10:44 README.md
-rw-rw-r-- 1 sjkim sjkim        867 Sep 19 10:44 adapter_config.json
-rw-rw-r-- 1 sjkim sjkim 2839126480 Sep 19 10:44 adapter_model.safetensors
-rw-rw-r-- 1 sjkim sjkim         35 Sep 19 10:44 added_tokens.json
-rw-rw-r-- 1 sjkim sjkim       1532 Sep 19 10:44 chat_template.jinja
-rw-rw-r-- 1 sjkim sjkim 6794624131 Sep 19 10:44 optimizer.pt
-rw-rw-r-- 1 sjkim sjkim      14645 Sep 19 10:44 rng_state.pth
-rw-rw-r-- 1 sjkim sjkim       1465 Sep 19 10:44 scheduler.pt
-rw-rw-r-- 1 sjkim sjkim        662 Sep 19 10:44 special_tokens_map.json
-rw-rw-r-- 1 sjkim sjkim   33384568 Sep 19 10:44 tokenizer.json
-rw-rw-r-- 1 sjkim sjkim    4689074 Sep 19 10:44 tokenizer.model
-rw-rw-r-- 1 sjkim sjkim    1155387 Sep 19 10:44 tokenizer_config.json
-rw-rw-r-- 1 sjkim sjkim      19502 Sep 19 10:44 trainer_state.json
-rw-rw-r-- 1 sjkim sjkim       6097 Sep 19 10:44 training_args.bin
```

g2-custom-8-55296 (vCPU 8개, 메모리 54GB)
성공

```bash
{'loss': 2.0513, 'grad_norm': 9.864392280578613, 'learning_rate': 0.0002, 'mean_token_accuracy': 0.8554821223020553, 'epoch': 2.95}                                                                        
{'loss': 1.7915, 'grad_norm': 10.24251651763916, 'learning_rate': 0.0002, 'mean_token_accuracy': 0.8733168751001358, 'epoch': 2.98}                                                                        
{'train_runtime': 3026.8343, 'train_samples_per_second': 1.208, 'train_steps_per_second': 0.302, 'train_loss': 3.403599550424378, 'mean_token_accuracy': 0.8712976637639498, 'epoch': 3.0}                 
100%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 915/915 [50:26<00:00,  3.31s/it]
Processing Files (5 / 5)                : 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2.88GB / 2.88GB,  159MB/s  
New Data Upload                         : 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 25.5MB / 25.5MB, 2.55MB/s  
  ...l1-c.c.sayouzone-ai.internal.1424.0: 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 33.1kB / 33.1kB            
  ...-3-4b-trans-en-ko/training_args.bin: 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 6.10kB / 6.10kB            
  ...ma-3-4b-trans-en-ko/tokenizer.model: 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 4.69MB / 4.69MB            
  ...mma-3-4b-trans-en-ko/tokenizer.json: 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 33.4MB / 33.4MB            
  ...ans-en-ko/adapter_model.safetensors: 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2.84GB / 2.84GB            
No files have been modified since last commit. Skipping to prevent empty commit.
Loading checkpoint shards: 100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 2/2 [00:04<00:00,  2.18s/it]
```

```bash
gemma-3-4b-trans-en-ko\
-rw-rw-r-- 1 sjkim sjkim       1473 Sep 20 07:16 README.md
-rw-rw-r-- 1 sjkim sjkim        867 Sep 20 07:16 adapter_config.json
-rw-rw-r-- 1 sjkim sjkim 2839126480 Sep 20 07:16 adapter_model.safetensors
-rw-rw-r-- 1 sjkim sjkim         35 Sep 20 07:16 added_tokens.json
-rw-rw-r-- 1 sjkim sjkim       1532 Sep 20 07:16 chat_template.jinja
drwxrwxr-x 2 sjkim sjkim       4096 Sep 20 06:41 checkpoint-305
drwxrwxr-x 2 sjkim sjkim       4096 Sep 20 06:58 checkpoint-610
drwxrwxr-x 2 sjkim sjkim       4096 Sep 20 07:14 checkpoint-915
drwxrwxr-x 3 sjkim sjkim       4096 Sep 20 06:24 runs
-rw-rw-r-- 1 sjkim sjkim        662 Sep 20 07:16 special_tokens_map.json
-rw-rw-r-- 1 sjkim sjkim   33384568 Sep 20 07:16 tokenizer.json
-rw-rw-r-- 1 sjkim sjkim    4689074 Sep 20 07:16 tokenizer.model
-rw-rw-r-- 1 sjkim sjkim    1155387 Sep 20 07:16 tokenizer_config.json
-rw-rw-r-- 1 sjkim sjkim       6097 Sep 20 07:16 training_args.bin
```

```bash
gemma-3-4b-trans-en-ko/checkpoint-915
-rw-rw-r-- 1 sjkim sjkim       5094 Sep 20 07:14 README.md
-rw-rw-r-- 1 sjkim sjkim        867 Sep 20 07:14 adapter_config.json
-rw-rw-r-- 1 sjkim sjkim 2839126480 Sep 20 07:14 adapter_model.safetensors
-rw-rw-r-- 1 sjkim sjkim         35 Sep 20 07:14 added_tokens.json
-rw-rw-r-- 1 sjkim sjkim       1532 Sep 20 07:14 chat_template.jinja
-rw-rw-r-- 1 sjkim sjkim 6794624131 Sep 20 07:14 optimizer.pt
-rw-rw-r-- 1 sjkim sjkim      14645 Sep 20 07:14 rng_state.pth
-rw-rw-r-- 1 sjkim sjkim       1465 Sep 20 07:14 scheduler.pt
-rw-rw-r-- 1 sjkim sjkim        662 Sep 20 07:14 special_tokens_map.json
-rw-rw-r-- 1 sjkim sjkim   33384568 Sep 20 07:14 tokenizer.json
-rw-rw-r-- 1 sjkim sjkim    4689074 Sep 20 07:14 tokenizer.model
-rw-rw-r-- 1 sjkim sjkim    1155387 Sep 20 07:14 tokenizer_config.json
-rw-rw-r-- 1 sjkim sjkim      19520 Sep 20 07:14 trainer_state.json
-rw-rw-r-- 1 sjkim sjkim       6097 Sep 20 07:14 training_args.bin
```

```bash
gemma-3-4b_merged_model\
-rw-rw-r-- 1 sjkim sjkim         35 Sep 20 07:18 added_tokens.json
-rw-rw-r-- 1 sjkim sjkim       1532 Sep 20 07:18 chat_template.jinja
-rw-rw-r-- 1 sjkim sjkim       2459 Sep 20 07:17 config.json
-rw-rw-r-- 1 sjkim sjkim        210 Sep 20 07:17 generation_config.json
-rw-rw-r-- 1 sjkim sjkim 2685010072 Sep 20 07:17 model-00001-of-00010.safetensors
-rw-rw-r-- 1 sjkim sjkim 1951957880 Sep 20 07:17 model-00002-of-00010.safetensors
-rw-rw-r-- 1 sjkim sjkim 1992559464 Sep 20 07:17 model-00003-of-00010.safetensors
-rw-rw-r-- 1 sjkim sjkim 1950577648 Sep 20 07:17 model-00004-of-00010.safetensors
-rw-rw-r-- 1 sjkim sjkim 1992518064 Sep 20 07:17 model-00005-of-00010.safetensors
-rw-rw-r-- 1 sjkim sjkim 1992518040 Sep 20 07:17 model-00006-of-00010.safetensors
-rw-rw-r-- 1 sjkim sjkim 1992559536 Sep 20 07:17 model-00007-of-00010.safetensors
-rw-rw-r-- 1 sjkim sjkim 1950577704 Sep 20 07:17 model-00008-of-00010.safetensors
-rw-rw-r-- 1 sjkim sjkim 2685010064 Sep 20 07:18 model-00009-of-00010.safetensors
-rw-rw-r-- 1 sjkim sjkim  692157080 Sep 20 07:18 model-00010-of-00010.safetensors
-rw-rw-r-- 1 sjkim sjkim      90668 Sep 20 07:18 model.safetensors.index.json
-rw-rw-r-- 1 sjkim sjkim        662 Sep 20 07:18 special_tokens_map.json
-rw-rw-r-- 1 sjkim sjkim   33384568 Sep 20 07:18 tokenizer.json
-rw-rw-r-- 1 sjkim sjkim    4689074 Sep 20 07:18 tokenizer.model
-rw-rw-r-- 1 sjkim sjkim    1155387 Sep 20 07:18 tokenizer_config.json
```

#### gemma-3-12b model

```bash
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 915/915 [1:53:34<00:00,  7.45s/it]
Processing Files (8 / 8)                : 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 4.36GB / 4.36GB,  127MB/s  
New Data Upload                         : 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 24.9MB / 24.9MB, 2.49MB/s  
  ...3-12b-trans-en-ko/training_args.bin: 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 6.10kB / 6.10kB            
  ...l1-c.c.sayouzone-ai.internal.1406.0: 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 33.4kB / 33.4kB            
  ...1-c.c.sayouzone-ai.internal.10202.0: 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 16.3kB / 16.3kB            
  ...l1-c.c.sayouzone-ai.internal.1442.0: 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 17.9kB / 17.9kB            
  ...l1-c.c.sayouzone-ai.internal.1419.0: 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 33.4kB / 33.4kB            
  ...a-3-12b-trans-en-ko/tokenizer.model: 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 4.69MB / 4.69MB            
  ...ma-3-12b-trans-en-ko/tokenizer.json: 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 33.4MB / 33.4MB            
  ...ans-en-ko/adapter_model.safetensors: 100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 4.32GB / 4.32GB            
No files have been modified since last commit. Skipping to prevent empty commit.
Loading checkpoint shards:  20%|█████████████████████████████████████████▊                                                                                                                                                                       | 1/5 [00:17<01:08, 17.06s/it]
```

```bash
2025-09-19 13:47:36.895 JST
2025-09-19T04:47:36.867835+00:00 gemma3-g2s4-l4-test kernel: oom-kill:constraint=CONSTRAINT_NONE,nodemask=(null),cpuset=/,mems_allowed=0,global_oom,task_memcg=/user.slice/user-1001.slice/session-1.scope,task=python3,pid=1553,uid=1001
2025-09-19 13:47:36.895 JST
2025-09-19T04:47:36.867835+00:00 gemma3-g2s4-l4-test kernel: Out of memory: Killed process 1553 (python3) total-vm:55252752kB, anon-rss:48039088kB, file-rss:0kB, shmem-rss:0kB, UID:1001 pgtables:96088kB oom_score_adj:0
2025-09-19 13:47:38.880 JST
2025-09-19T04:47:36.925322+00:00 gemma3-g2s4-l4-test systemd[1]: session-1.scope: A process of this unit has been killed by the OOM killer.
2025-09-19 13:47:39.186 JST
2025-09-19T04:47:39.186715+00:00 gemma3-g2s4-l4-test kernel: oom_reaper: reaped process 1553 (python3), now anon-rss:0kB, file-rss:0kB, shmem-rss:0kB
```

=======
>>>>>>> 6369d2c5f7bfae9672af3fcd67a007162923ed7b
## Errors

#### gemma-3-12b model

gemma-3-4b model에서 발생하지 않던 오류가 발생함.

```bash
Traceback (most recent call last):
  File "/home/sjkim/gemma3/translation/finetune_translation_genre.py", line 235, in <module>
    trainer = SFTTrainer(
              ^^^^^^^^^^^
  File "/home/sjkim/gemma3-env/lib/python3.12/site-packages/transformers/utils/deprecation.py", line 172, in wrapped_func
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/sjkim/gemma3-env/lib/python3.12/site-packages/trl/trainer/sft_trainer.py", line 232, in __init__
    super().__init__(
  File "/home/sjkim/gemma3-env/lib/python3.12/site-packages/transformers/utils/deprecation.py", line 172, in wrapped_func
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/sjkim/gemma3-env/lib/python3.12/site-packages/transformers/trainer.py", line 620, in __init__
    self._move_model_to_device(model, args.device)
  File "/home/sjkim/gemma3-env/lib/python3.12/site-packages/transformers/trainer.py", line 903, in _move_model_to_device
    model = model.to(device)
            ^^^^^^^^^^^^^^^^
  File "/home/sjkim/gemma3-env/lib/python3.12/site-packages/torch/nn/modules/module.py", line 1369, in to
    return self._apply(convert)
           ^^^^^^^^^^^^^^^^^^^^
  File "/home/sjkim/gemma3-env/lib/python3.12/site-packages/torch/nn/modules/module.py", line 928, in _apply
    module._apply(fn)
  File "/home/sjkim/gemma3-env/lib/python3.12/site-packages/torch/nn/modules/module.py", line 928, in _apply
    module._apply(fn)
  File "/home/sjkim/gemma3-env/lib/python3.12/site-packages/torch/nn/modules/module.py", line 928, in _apply
    module._apply(fn)
  [Previous line repeated 6 more times]
  File "/home/sjkim/gemma3-env/lib/python3.12/site-packages/torch/nn/modules/module.py", line 955, in _apply
    param_applied = fn(param)
                    ^^^^^^^^^
  File "/home/sjkim/gemma3-env/lib/python3.12/site-packages/torch/nn/modules/module.py", line 1362, in convert
    raise NotImplementedError(
NotImplementedError: Cannot copy out of meta tensor; no data! Please use torch.nn.Module.to_empty() instead of torch.nn.Module.to() when moving module from meta to a different device.
```

```python
trainer = SFTTrainer(
    model=peft_model,
    args=training_args,
    train_dataset=formatted_dataset,
    dataset_text_field="text",  # <-- FIX: Tell the trainer where the text is
    #tokenizer=tokenizer,          # Optional but recommended
    #max_seq_length=512,           # Optional but recommended for memory management
    #packing=False,
)
```

```bash
Traceback (most recent call last):
  File "/home/sjkim/gemma3/translation/finetune_translation_genre_12b.py", line 246, in <module>
    trainer = SFTTrainer(
              ^^^^^^^^^^^
  File "/home/sjkim/gemma3-env/lib/python3.12/site-packages/transformers/utils/deprecation.py", line 172, in wrapped_func
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
TypeError: SFTTrainer.__init__() got an unexpected keyword argument 'dataset_text_field'
```

```python
trainer = SFTTrainer(
    model=peft_model,
    args=training_args,
    train_dataset=formatted_dataset,
    #dataset_text_field="text",  # <-- FIX: Tell the trainer where the text is
    #tokenizer=tokenizer,          # Optional but recommended
    max_seq_length=512,           # Optional but recommended for memory management
    #packing=False,
)
```

```bash
Traceback (most recent call last):
  File "/home/sjkim/gemma3/translation/finetune_translation_genre_12b.py", line 246, in <module>
    trainer = SFTTrainer(
              ^^^^^^^^^^^
  File "/home/sjkim/gemma3-env/lib/python3.12/site-packages/transformers/utils/deprecation.py", line 172, in wrapped_func
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
TypeError: SFTTrainer.__init__() got an unexpected keyword argument 'max_seq_length'
```